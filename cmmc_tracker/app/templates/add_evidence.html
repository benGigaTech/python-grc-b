{% extends "base.html" %}

{% block title %}Add Evidence - {{ control.controlid }}{% endblock %}

{% block content %}
<h1>Add Evidence for Control: {{ control.controlid }}</h1>
<p><strong>Control Name:</strong> {{ control.controlname }}</p>

<div class="form-container">
    <form action="{{ url_for('evidence.add_evidence', control_id=control.controlid) }}" method="post" enctype="multipart/form-data">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" class="form-control" required>
            <small class="form-text">A descriptive title for this evidence (required)</small>
        </div>
        
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" name="description" class="form-control" rows="3"></textarea>
            <small class="form-text">Additional details about this evidence</small>
        </div>
        
        <div class="form-group">
            <label for="evidence_file">Evidence File:</label>
            <input type="file" id="evidence_file" name="evidence_file" class="form-control-file" required>
            <small class="form-text">Upload a file as evidence (required)</small>
            <div class="allowed-types">
                Allowed file types: PDF, Images (PNG, JPG, GIF), Documents (DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT), CSV
            </div>
        </div>
        
        <div class="form-group">
            <label for="expiration_date">Expiration Date:</label>
            <input type="date" id="expiration_date" name="expiration_date" class="form-control">
            <small class="form-text">Optional. Set if this evidence has an expiration date</small>
        </div>
        
        <div class="form-buttons">
            <input type="submit" value="Upload Evidence" class="form-button">
            <a href="{{ url_for('evidence.list_evidence', control_id=control.controlid) }}" class="button-link">Cancel</a>
        </div>
    </form>
</div>

{% endblock %} 