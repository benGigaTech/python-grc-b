{% extends "base.html" %}

{% block title %}Add Evidence - {{ control.controlid }}{% endblock %}

{% block content %}
<h1>Add Evidence for Control: {{ control.controlid }}</h1>
<p><strong>Control Name:</strong> {{ control.controlname }}</p>

<div class="form-container">
    <form action="{{ url_for('evidence.add_evidence', control_id=control.controlid) }}" method="post" enctype="multipart/form-data">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" class="form-control" required>
            <small class="form-text">A descriptive title for this evidence (required)</small>
        </div>
        
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" name="description" class="form-control" rows="3"></textarea>
            <small class="form-text">Additional details about this evidence</small>
        </div>
        
        <div class="form-group">
            <label for="evidence_file">Evidence File:</label>
            <input type="file" id="evidence_file" name="evidence_file" class="form-control-file" required>
            <small class="form-text">Upload a file as evidence (required)</small>
            <div class="allowed-types">
                Allowed file types: PDF, Images (PNG, JPG, GIF), Documents (DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT), CSV
            </div>
        </div>
        
        <div class="form-group">
            <label for="expiration_date">Expiration Date:</label>
            <input type="date" id="expiration_date" name="expiration_date" class="form-control">
            <small class="form-text">Optional. Set if this evidence has an expiration date</small>
        </div>
        
        <div class="form-buttons">
            <input type="submit" value="Upload Evidence" class="form-button">
            <a href="{{ url_for('evidence.list_evidence', control_id=control.controlid) }}" class="button-link">Cancel</a>
        </div>
    </form>
</div>

<style>
    .form-container {
        max-width: 700px;
        margin: 2rem 0;
        padding: 1.5rem;
        background-color: #f8fafc;
        border-radius: 0.5rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-control {
        display: block;
        width: 100%;
        padding: 0.5rem;
        font-size: 1rem;
        border: 1px solid #d1d5db;
        border-radius: 0.25rem;
    }
    
    .form-control-file {
        display: block;
        width: 100%;
        margin-top: 0.25rem;
    }
    
    label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
    }
    
    .form-text {
        display: block;
        margin-top: 0.25rem;
        font-size: 0.875rem;
        color: #64748b;
    }
    
    .form-buttons {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }
    
    .allowed-types {
        margin-top: 0.5rem;
        padding: 0.5rem;
        background-color: #e0f2fe;
        border-radius: 0.25rem;
        font-size: 0.875rem;
        color: #0369a1;
    }
</style>
{% endblock %} 